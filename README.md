<div align="center">

<img src='./logo.png' width='400px' height='400px'/>

# Repo Inspector ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ GitHub-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ —á–µ—Ä–µ–∑ API

![Python](https://img.shields.io/badge/Python-3.11+-blue.svg)
![FastAPI](https://img.shields.io/badge/FastAPI-0.111+-009688.svg)
![License](https://img.shields.io/badge/license-GPLv3-green.svg)
![Pages](https://img.shields.io/badge/Frontend-GitHub%20Pages-222.svg)
![API](https://img.shields.io/badge/API-Vercel-black.svg)

**–ê–Ω–∞–ª–∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –±–µ–∑ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –±–µ–∑ –∑–∞–ø—É—Å–∫–∞ –∫–æ–¥–∞: score, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, SVG/JSON –∫–∞—Ä—Ç–æ—á–∫–∏**

[–†—É—Å—Å–∫–∞—è –≤–µ—Ä—Å–∏—è](README.md) ‚Ä¢ [English version](README_EN.md)

[–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏) ‚Ä¢ [–ü—Ä–∏–º–µ—Ä—ã –∫–∞—Ä—Ç–æ—á–µ–∫](#-–ø—Ä–∏–º–µ—Ä—ã-—Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏) ‚Ä¢ [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç) ‚Ä¢ [–î–µ–ø–ª–æ–π](#-–¥–µ–ø–ª–æ–π-pages--vercel) ‚Ä¢ [API](#-api)

</div>

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ø–æ URL (`https://github.com/<owner>/<repo>`) —á–µ—Ä–µ–∑ GitHub API.
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏: `Docs`, `CI`, `Security`, `Quality`, `Maintenance`, `Governance`.
- –°—Ç–∞—Ç—É—Å—ã –ø—Ä–æ–≤–µ—Ä–æ–∫: `pass` / `warn` / `fail`, –∏—Ç–æ–≥–æ–≤—ã–π score `0..100`.
- –ò—Å—Ç–æ—Ä–∏—è —Å–∫–∞–Ω–æ–≤ –∏ —Ç—Ä–µ–Ω–¥ –ø–æ –∫–æ–º–º–∏—Ç–∞–º.
- –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–∞ –≤ `JSON`, `Markdown`, `TXT`.
- SVG/JSON API –≤ —Å—Ç–∏–ª–µ `github-readme-stats`.
- –î–≤—É—è–∑—ã—á–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –æ—Ç—á—ë—Ç–æ–≤ (`RU` / `EN`).
- –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:
  - –ª–æ–∫–∞–ª—å–Ω–æ (FastAPI + SQLite),
  - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ—Ä–æ–Ω—Ç –Ω–∞ GitHub Pages,
  - API –Ω–∞ Vercel.

---

## üß™ –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

> –≠—Ç–æ —Ä–µ–∞–ª—å–Ω—ã–µ embed-–ø—Ä–∏–º–µ—Ä—ã –∫–∞—Ä—Ç–æ—á–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–ª—è—Ç—å –≤ README.

### Quality card

![Repo Inspector Card](https://repo-inspector.vercel.app/api?owner=Overl1te&repo=Repo-Inspector&kind=quality&format=svg&theme=midnight&locale=ru&card_width=760&animate=true&animation=all&duration=1400)

### Repository stats card

![Repo Inspector Card](https://repo-inspector.vercel.app/api?owner=Overl1te&repo=Repo-Inspector&kind=repo&format=svg&theme=midnight&locale=ru&card_width=760&animate=true&animation=all&duration=1400&langs_count=4)

### –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ç–µ–º–∞ (–ø—Ä–∏–º–µ—Ä)

```md
![Repo Inspector Card](https://repo-inspector.vercel.app/api?owner=Overl1te&repo=Repo-Inspector&kind=quality&format=svg&theme=custom&locale=ru&card_width=760&animate=true&animation=all&duration=1400&bg_start=%23F8FBFF&bg_end=%23EEF5FF&border=%23A8CBFF&panel=%23FFFFFF&overlay=%23EDF4FF&chip_bg=%23E7F0FF&chip_text=%232D4E83&text=%2314284B&muted=%233F6191&accent=%2316A4E0&accent_2=%231AB9A2&accent_soft=%23B8DBFF&track=%23D3E3FB&pass=%230F7F39&warn=%23B55A0C&fail=%23BE1D2D)
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python `3.11+`
- Git

### 1) –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/Overl1te/Repo-Inspector.git
cd Repo-Inspector

python -m venv .venv
# Windows:
.venv\Scripts\activate
# Linux/macOS:
source .venv/bin/activate

pip install -r requirements.txt
pip install -e .[dev]
```

### 2) –ö–æ–Ω—Ñ–∏–≥ (`config.yml`)

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–æ—Ç–∫—Ä—ã—Ç—ã–π YAML-–∫–æ–Ω—Ñ–∏–≥** (–±–µ–∑ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ `.env`).

```yaml
app:
  name: "Repo Inspector"
  logo_path: "/static/logo.png"
  title_separator: "-"

github:
  token: ""          # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ GitHub API
  app_token: ""
  api_base: "https://api.github.com"

database:
  url: "sqlite:///./data/app.db"

scan:
  rate_limit_per_minute: 25
  daily_quota: 300
  cache_ttl_seconds: 1800
  repo_history_keep: 20
  stale_active_job_minutes: 120
```

### 3) –ó–∞–ø—É—Å–∫

#### –í–∞—Ä–∏–∞–Ω—Ç A (Windows)

```bat
run.bat
```

#### –í–∞—Ä–∏–∞–Ω—Ç B (–ª—é–±–æ–π OS)

```bash
uvicorn app.main:app --reload
```

–û—Ç–∫—Ä—ã—Ç—å: `http://127.0.0.1:8000`

---

## üåê –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

### 1) Local interactive mode

- UI + API —Ä–∞–±–æ—Ç–∞—é—Ç –ª–æ–∫–∞–ª—å–Ω–æ.
- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–∫–∞–Ω–∏—Ä—É–µ—Ç—Å—è –≤ —Ñ–æ–Ω–µ —á–µ—Ä–µ–∑ FastAPI `BackgroundTasks`.

### 2) GitHub Pages mode

- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ `web/`.
- –û—Ç—á—ë—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è GitHub Actions –≤ `web/reports/*.json`.

### 3) Hybrid mode (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

- GitHub Pages: —Ñ—Ä–æ–Ω—Ç –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä.
- Vercel: –∂–∏–≤–æ–π API (`/api?...`) –∏ SVG/JSON –∫–∞—Ä—Ç–æ—á–∫–∏.

---

## üîå API

### –û—Å–Ω–æ–≤–Ω—ã–µ endpoint'—ã

- `POST /api/scan` ‚Äî –∑–∞–ø—É—Å–∫ —Å–∫–∞–Ω–∞
- `GET /api/jobs/{job_id}` ‚Äî —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏
- `GET /api/report/{job_id}.json` ‚Äî JSON –æ—Ç—á—ë—Ç
- `GET /api/report/{job_id}.md` ‚Äî Markdown –æ—Ç—á—ë—Ç
- `GET /api/report/{job_id}.txt` ‚Äî TXT –æ—Ç—á—ë—Ç
- `GET /api?owner=<owner>&repo=<repo>&kind=repo|quality&format=svg|json` ‚Äî readme-stats API
- `GET /health`, `GET /metrics`

### –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–∏–º–µ—Ä—ã

```bash
curl -X POST http://127.0.0.1:8000/api/scan \
  -H "Content-Type: application/json" \
  -d '{"repo_url":"https://github.com/tiangolo/fastapi"}'

curl "http://127.0.0.1:8000/api?owner=Overl1te&repo=Repo-Inspector&kind=quality&format=json&include_report=true&locale=ru"
```

---

## üö¢ –î–µ–ø–ª–æ–π (Pages + Vercel)

### GitHub Pages (frontend)

1. –í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏: `Settings -> Pages`.
2. `Build and deployment: GitHub Actions`.
3. –ó–∞–ø—É—à–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è (–∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å workflow –¥–µ–ø–ª–æ—è pages).
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `web/config.js`:

```js
window.REPO_INSPECTOR_CONFIG = {
  API_BASE: "https://repo-inspector.vercel.app/",
};
```

### Vercel (API)

1. Import project –≤ Vercel.
2. Root directory: `./`.
3. –î–µ–ø–ª–æ–π (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `vercel.json` + `api/index.py`).
4. –ü—Ä–æ–≤–µ—Ä–∫–∞:
   - `https://<your-domain>/health`
   - `https://<your-domain>/api?owner=Overl1te&repo=Repo-Inspector&kind=repo`

---

## üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
Repo-Inspector/
‚îú‚îÄ‚îÄ app/                    # FastAPI, scanner, —à–∞–±–ª–æ–Ω—ã, –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ api/                    # serverless entrypoint –¥–ª—è Vercel
‚îú‚îÄ‚îÄ web/                    # —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π frontend (Pages)
‚îú‚îÄ‚îÄ scripts/                # –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–æ–≤/—É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ tests/                  # unit tests
‚îú‚îÄ‚îÄ config.yml              # –ø—É–±–ª–∏—á–Ω—ã–π runtime-–∫–æ–Ω—Ñ–∏–≥
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îî‚îÄ‚îÄ run.bat
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ governance

- [docs/PROJECT_STRUCTURE.md](docs/PROJECT_STRUCTURE.md)
- [CODE_OF_CONDUCT.md](CODE_OF_CONDUCT.md) / [CODE_OF_CONDUCT_EN.md](CODE_OF_CONDUCT_EN.md)
- [CONTRIBUTING.md](CONTRIBUTING.md) / [CONTRIBUTING_EN.md](CONTRIBUTING_EN.md)
- [SECURITY.md](SECURITY.md) / [SECURITY_EN.md](SECURITY_EN.md)
- [TERMS_OF_USE.md](TERMS_OF_USE.md) / [TERMS_OF_USE_EN.md](TERMS_OF_USE_EN.md)
- [CITATION.cff](CITATION.cff)

---

## üß™ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
ruff check .
pytest -q
```

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

GNU GPL v3 ‚Äî —Å–º. [LICENSE](LICENSE).

## üö¶ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

–ü–µ—Ä–µ–¥ –≤—ã–∫–ª–∞–¥–∫–æ–π –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π pre-deploy —á–µ–∫:

```bash
python scripts/predeploy_check.py
```

–°—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º (–≤–∫–ª—é—á–∞–µ—Ç –ª–∏–Ω—Ç–µ—Ä –∏ —Ç–µ—Å—Ç—ã):

```bash
python scripts/predeploy_check.py --strict
```

–ü–æ–¥—Ä–æ–±–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç: [`docs/DEPLOYMENT.md`](docs/DEPLOYMENT.md)
