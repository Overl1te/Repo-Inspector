<div align="center">

# Repo Inspector ‚Äî GitHub repository quality scanning via API

![Python](https://img.shields.io/badge/Python-3.11+-blue.svg)
![FastAPI](https://img.shields.io/badge/FastAPI-0.111+-009688.svg)
![License](https://img.shields.io/badge/license-GPLv3-green.svg)
![Pages](https://img.shields.io/badge/Frontend-GitHub%20Pages-222.svg)
![API](https://img.shields.io/badge/API-Vercel-black.svg)

**Analyze repositories without cloning or code execution: score, categories, recommendations, and embeddable SVG/JSON cards**

[–†—É—Å—Å–∫–∞—è –≤–µ—Ä—Å–∏—è](README.md) ‚Ä¢ [English version](README_EN.md)

[Features](#-features) ‚Ä¢ [Live card examples](#-live-card-examples) ‚Ä¢ [Quick start](#-quick-start) ‚Ä¢ [Deploy](#-deploy-pages--vercel) ‚Ä¢ [API](#-api)

</div>

---

## ‚ú® Features

- Repository analysis by URL (`https://github.com/<owner>/<repo>`) through GitHub API.
- Scoring categories: `Docs`, `CI`, `Security`, `Quality`, `Maintenance`, `Governance`.
- Check statuses: `pass` / `warn` / `fail`, total score `0..100`.
- Scan history and commit-based trend.
- Report export: `JSON`, `Markdown`, `TXT`.
- `github-readme-stats` style SVG/JSON API.
- Bilingual UI and reports (`RU` / `EN`).
- Runtime modes:
  - local (FastAPI + SQLite),
  - static frontend on GitHub Pages,
  - API deployment on Vercel.

---

## üß™ Live card examples

> These are real embeddable examples you can paste into any README.

### Quality card

![Repo Inspector Card](https://repo-inspector.vercel.app/api?owner=Overl1te&repo=Repo-Inspector&kind=quality&format=svg&theme=midnight&locale=en&card_width=760&animate=true&animation=all&duration=1400)

### Repository stats card

![Repo Inspector Card](https://repo-inspector.vercel.app/api?owner=Overl1te&repo=Repo-Inspector&kind=repo&format=svg&theme=midnight&locale=en&card_width=760&animate=true&animation=all&duration=1400&langs_count=4)

---

## üöÄ Quick start

### Requirements

- Python `3.11+`
- Git

### 1) Clone and install

```bash
git clone https://github.com/Overl1te/Repo-Inspector.git
cd Repo-Inspector

python -m venv .venv
# Windows:
.venv\Scripts\activate
# Linux/macOS:
source .venv/bin/activate

pip install -r requirements.txt
pip install -e .[dev]
```

### 2) Config (`config.yml`)

The project uses an **open YAML config** (no mandatory `.env`).

```yaml
app:
  name: "Repo Inspector"
  logo_path: "/static/logo.png"
  title_separator: "-"

github:
  token: ""          # optional, improves GitHub API limits
  app_token: ""
  api_base: "https://api.github.com"

database:
  url: "sqlite:///./data/app.db"

scan:
  rate_limit_per_minute: 25
  daily_quota: 300
  cache_ttl_seconds: 1800
  repo_history_keep: 20
  stale_active_job_minutes: 120
```

### 3) Run

#### Option A (Windows)

```bat
run.bat
```

#### Option B (any OS)

```bash
uvicorn app.main:app --reload
```

Open: `http://127.0.0.1:8000`

---

## üåê Runtime modes

### 1) Local interactive mode

- UI + API run locally.
- Repository scans run in background via FastAPI `BackgroundTasks`.

### 2) GitHub Pages mode

- Static UI in `web/`.
- Reports generated by GitHub Actions into `web/reports/*.json`.

### 3) Hybrid mode (recommended)

- GitHub Pages: frontend and generator UI.
- Vercel: live API (`/api?...`) and SVG/JSON cards.

---

## üîå API

### Core endpoints

- `POST /api/scan` ‚Äî start scan
- `GET /api/jobs/{job_id}` ‚Äî scan job status
- `GET /api/report/{job_id}.json` ‚Äî JSON report
- `GET /api/report/{job_id}.md` ‚Äî Markdown report
- `GET /api/report/{job_id}.txt` ‚Äî TXT report
- `GET /api?owner=<owner>&repo=<repo>&kind=repo|quality&format=svg|json` ‚Äî readme-stats API
- `GET /health`, `GET /metrics`

### Quick examples

```bash
curl -X POST http://127.0.0.1:8000/api/scan \
  -H "Content-Type: application/json" \
  -d '{"repo_url":"https://github.com/tiangolo/fastapi"}'

curl "http://127.0.0.1:8000/api?owner=Overl1te&repo=Repo-Inspector&kind=quality&format=json&include_report=true&locale=ru"
```

---

## üö¢ Deploy (Pages + Vercel)

### GitHub Pages (frontend)

1. Open `Settings -> Pages` in your repo.
2. Select `Build and deployment: GitHub Actions`.
3. Push changes (or run pages workflow manually).
4. Set `web/config.js`:

```js
window.REPO_INSPECTOR_CONFIG = {
  API_BASE: "https://repo-inspector.vercel.app/",
};
```

### Vercel (API)

1. Import this repository into Vercel.
2. Keep root directory as `./`.
3. Deploy (uses `vercel.json` + `api/index.py`).
4. Verify:
   - `https://<your-domain>/health`
   - `https://<your-domain>/api?owner=Overl1te&repo=Repo-Inspector&kind=repo`

---

## üß± Project structure

```text
Repo-Inspector/
‚îú‚îÄ‚îÄ app/                    # FastAPI, scanner, templates, localization
‚îú‚îÄ‚îÄ api/                    # serverless entrypoint for Vercel
‚îú‚îÄ‚îÄ web/                    # static frontend (Pages)
‚îú‚îÄ‚îÄ scripts/                # report generation/utilities
‚îú‚îÄ‚îÄ tests/                  # unit tests
‚îú‚îÄ‚îÄ config.yml              # public runtime config
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îî‚îÄ‚îÄ run.bat
```

---

## üìö Documentation and governance

- [docs/PROJECT_STRUCTURE.md](docs/PROJECT_STRUCTURE.md)
- [CODE_OF_CONDUCT.md](CODE_OF_CONDUCT.md) / [CODE_OF_CONDUCT_EN.md](CODE_OF_CONDUCT_EN.md)
- [CONTRIBUTING.md](CONTRIBUTING.md) / [CONTRIBUTING_EN.md](CONTRIBUTING_EN.md)
- [SECURITY.md](SECURITY.md) / [SECURITY_EN.md](SECURITY_EN.md)
- [TERMS_OF_USE.md](TERMS_OF_USE.md) / [TERMS_OF_USE_EN.md](TERMS_OF_USE_EN.md)
- [CITATION.cff](CITATION.cff)

---

## üß™ Development checks

```bash
ruff check .
pytest -q
```

---

## üìÑ License

GNU GPL v3 ‚Äî see [LICENSE](LICENSE).