# Вклад в Repo Inspector

<p align="left">
  <a href="CONTRIBUTING_EN.md">English version</a> •
  <a href="README.md">README</a> •
  <a href="CODE_OF_CONDUCT.md">Code of Conduct</a> •
  <a href="SECURITY.md">Security</a>
</p>

Этот документ описывает, как вносить изменения так, чтобы проект оставался
стабильным, безопасным и готовым к деплою.

## Принципы

- Маленькие, атомарные и проверяемые изменения.
- Безопасность и корректность выше «быстрого хака».
- Документация и код обновляются синхронно.
- Если поведение изменилось, это отражается в тестах.

## Стек

- Python 3.11+
- FastAPI + Uvicorn
- httpx (async)
- SQLAlchemy 2.0 + SQLite
- Jinja2 + vanilla JS
- pytest + ruff

## Структура проекта

См. `docs/PROJECT_STRUCTURE.md`.

## Рабочий процесс

1. Создайте ветку от `main`.
2. Внесите минимальный логически связный набор изменений.
3. Добавьте/обновите тесты.
4. Обновите документацию.
5. Откройте PR с понятным описанием причин и последствий изменений.

Рекомендуемые имена веток:

- `feat/<short-name>`
- `fix/<short-name>`
- `refactor/<short-name>`
- `docs/<short-name>`
- `chore/<short-name>`

## Локальный запуск

```powershell
python -m venv .venv
.\.venv\Scripts\Activate.ps1
pip install -r requirements.txt
pip install -e .[dev]
uvicorn app.main:app --reload
```

## Проверки перед PR

```bash
ruff check .
pytest -q
```

## Стандарты кода

- Используйте явные типы, особенно в public/API-функциях.
- Добавляйте докстринги там, где логика неочевидна с первого взгляда.
- Комментарии пишем про мотивацию и ограничения, а не про синтаксис.
- Не оставляйте мертвый/закомментированный код.
- Избегайте скрытых побочных эффектов и глобального состояния.

## Политика по безопасности

- Никогда не коммитим токены/секреты.
- Любой security-фикс должен иметь тест или проверяемый сценарий.
- Уязвимости сообщаем через `SECURITY.md`, а не публичным issue.

## Чеклист PR

- [ ] Изменение решает конкретную проблему.
- [ ] Есть тесты или обоснование, почему без тестов.
- [ ] Обновлены README/документация при изменении поведения.
- [ ] Прогнаны `ruff` и `pytest`.
- [ ] Нет секретов, дебаг-логов и временных файлов.

## Нужна помощь?

Открывайте issue: <https://github.com/Overl1te/Repo-Inspector/issues>
